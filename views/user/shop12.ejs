<%- include('../layouts/header.ejs') -%>
<%- include('../layouts/usernav.ejs') -%>


		<!-- main -->
        <div class="my-23">
		<main>
			<!-- introBannerHolder -->
			<section class="introBannerHolder d-flex w-100 bgCover" style="background-image: url(images/b-bg7.jpg);">
				<div class="container">
					<div class="row">
						<div class="col-12 pt-lg-23 pt-md-15 pt-sm-10 pt-6 text-center">
							<h1 class="headingIV fwEbold playfair mb-4">Shop</h1>
							<ul class="list-unstyled breadCrumbs d-flex justify-content-center">
								<li class="mr-2"><a href="home.html">Home</a></li>
								<li class="mr-2">/</li>
								<li class="active">Shop</li>
							</ul>
						</div>
					</div>
				</div>
			</section>
			<style>
				.custom-gap {
					padding-left:45px; /* Adjust as needed */
					padding-right: 45px; /* Adjust as needed */
					margin-left: auto;
					margin-right: auto;
				}
			</style>
			<!-- twoColumns -->
			<div class="twoColumns custom-gap pt-lg-23 pb-lg-20 pt-md-16 pb-md-4 pt-10 pb-4">
				<div class="row">
					<div class="col-12 col-lg-9 order-lg-3">
						<!-- content -->
						<article id="content">
							<input class="searchForm position-relative border" type="search" id="searchInput" class="form-control" placeholder="Search product...">
							<!-- show-head -->
							<header class="show-head d-flex flex-wrap justify-content-between mb-7">
								<ul class="list-unstyled viewFilterLinks d-flex flex-nowrap align-items-center">
									<li class="mr-2"><a href="javascript:void(0);" class="active"><i class="fas fa-th-large"></i></a></li>
									<li class="mr-2"><a href="javascript:void(0);"><i class="fas fa-list"></i></a></li>
									<li class="mr-2">Showing 1–9 of 24 results</li>
								</ul>
								<!-- sortGroup -->
								<div class="sortGroup">
									<div class="d-flex flex-nowrap align-items-center">
										<strong class="groupTitle mr-2">Sort by:</strong>
										<div class="dropdown">
											<button class="dropdown-toggle buttonReset" type="button" id="sortGroup" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Default sorting</button>
											<ul class="dropdown-menu dropdown-menu-right" aria-labelledby="sortGroup">
												<li><a href="javascript:void(0);">Default Order</a></li>
												<li><a href="javascript:void(0);">Default Order</a></li>
												<li><a href="javascript:void(0);">Default Order</a></li>
												<li><a href="javascript:void(0);">Default Order</a></li>
											</ul>
										</div>
									</div>
								</div>
							</header>
							<div class="row" id="productContainer">
								<!-- Loop through each product in the products array -->
					<% product.forEach(product => { %>
						<% if (!product.is_blocked) { %>
						<div class="col-12 col-sm-6 col-lg-4 featureCol mb-7">
							<div class="border">
								<div class="imgHolder position-relative w-100 overflow-hidden">
									<!-- Use the product's image source -->
									<a href="/detailshop?id=<%=product._id%>"><img src="sharpimages/<%=product.images.image1 %>" alt="" class="img-fluid w-100"></a>
									<ul class="list-unstyled postHoverLinskList d-flex justify-content-center m-0">
										<li class="mr-2 overflow-hidden"><a href="javascript:void(0);" class="icon-heart d-block"></a></li>
										<li class="mr-2 overflow-hidden"><a href="javascript:void(0);" class="icon-cart d-block"></a></li>
										<li class="mr-2 overflow-hidden"><a href="javascript:void(0);" class="icon-eye d-block"></a></li>
										<li class="overflow-hidden"><a href="javascript:void(0);" class="icon-arrow d-block"></a></li>
									</ul>	
								</div>
								<div class="text-center py-5 px-4">
									<!-- Use the product's name and price -->
									<span class="title d-block mb-2"><a href=""><%= product.name %></a></span>
									<span class="price d-block fwEbold"><del>₹80.50</del>₹<%=product.price%></span>
									<span class="hotOffer fwEbold text-uppercase text-white position-absolute d-block">HOT</span>
									<span class="hotOffer green fwEbold text-uppercase text-white position-absolute d-block ml-8">Sale</span>
								</div>
							</div>
						</div>
						<%}%>
					<% }); %>			
					<div class="col-12 pt-3 mb-lg-0 mb-md-6 mb-3">
						<!-- pagination -->
						<ul class="list-unstyled pagination d-flex justify-content-center align-items-end" id="pagination">
							<li class="disabled" id="prevButton"><a href="javascript:void(0);" onclick="changePage(-1)"><i class="fas fa-chevron-left"></i></a></li>
							<li id="nextButton"><a href="javascript:void(0);" onclick="changePage(1)"><i class="fas fa-chevron-right"></i></a></li>
						</ul>
					</div>
						</article>
					</div>
					<div class="col-12 col-lg-3 order-lg-1">
						<!-- sidebar -->
						<aside id="sidebar">
							<!-- widget -->
							<h6 class="headingVIII fwEbold text-uppercase mb-5">FILTERS</h6>
							<!-- widget -->
							<section class="widget overflow-hidden mb-9">
								<h3 style="text-align: center;" class="headingVII fwEbold text-uppercase mb-5">PRODUCT CATEGORIES</h3>
								<ul class="list-unstyled categoryList mb-0">
									<li class="mb-5 overflow-hidden"><a href="javascript:void(0);">Dried <span class="num border float-right">6</span></a></li>
									<li class="mb-5 overflow-hidden"><a href="javascript:void(0);">Vegetables <span class="num border float-right">8</span></a></li>
									<li class="mb-4 overflow-hidden"><a href="javascript:void(0);">Fruits <span class="num border float-right">9</span></a></li>
									<li class="mb-5 overflow-hidden"><a href="javascript:void(0);">Juice <span class="num border float-right">6</span></a></li>
									<li class="overflow-hidden"><a href="javascript:void(0);">Uncategorized <span class="num border float-right">1</span></a></li>
								</ul>
							</section>
							<!-- widget -->
							<section class="widget mb-9">
								<h3 class="headingVII fwEbold text-uppercase mb-6">Filter by price</h3>
								<!-- filter ranger form -->
								<form action="javascript:void(0);" class="filter-ranger-form">
									<div id="slider-range"></div>
									<input type="hidden" id="amount1" name="amount1">
									<input type="hidden" id="amount2" name="amount2">
									<div class="get-results-wrap d-flex align-items-center justify-content-between">
										<button type="button" class="btn btnTheme btn-shop fwEbold md-round px-3 pt-1 pb-2 text-uppercase">Filter</button>
										<p id="amount" class="mb-0"></p>
									</div>
								</form>
							</section>
							
							<!-- widget -->
							<section class="widget mb-9">
								<h3 class="headingVII fwEbold text-uppercase mb-5">product tags</h3>
								<ul class="list-unstyled tagNavList d-flex flex-wrap mb-0">
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">Plant</a></li>
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">Floor</a></li>
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">Indoor</a></li>
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">Green</a></li>
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">Healthy</a></li>
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">Cactus</a></li>
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">House plant</a></li>
									<li class="text-center"><a href="javascript:void(0);" class="md-round d-block">Office tree</a></li>
								</ul>
							</section>
						</aside>
					</div>
				</div>
			</div>
			<div class="container mb-lg-24 mb-md-16 mb-10">
				<!-- subscribeSecBlock -->
				<section class="subscribeSecBlock bgCover col-12 pt-lg-24 pb-lg-12 pt-md-16 pb-md-8 py-10" style="background-image: url(images/n-bg3.jpg)">
					<header class="col-12 mainHeader mb-9 text-center">
						<h1 class="headingIV playfair fwEblod mb-4">Subscribe Our Newsletter</h1>
						<span class="headerBorder d-block mb-5"><img src="images/hbdr.png" alt="Header Border" class="img-fluid img-bdr"></span>
						<p class="mb-6">Enter Your email address to join our mailing list and keep yourself update</p>
					</header>
					<form class="emailForm1 mx-auto overflow-hidden d-flex flex-wrap">
						<input type="email" class="form-control px-4 border-0" placeholder="Enter your mail...">
						<button type="submit" class="btn btnTheme btnShop fwEbold text-white py-3 px-4 py-md-3 px-md-4">Shop Now <i class="fas fa-arrow-right ml-2"></i></button>
					</form>
				</section>
			</div>
        </div>

		<script>
    document.addEventListener('DOMContentLoaded', function () {
    var searchInput = document.getElementById('searchInput');
    var productContainer = document.getElementById('productContainer');
    var products = productContainer.getElementsByClassName('col-12');

    searchInput.addEventListener('input', function () {
        var searchQuery = searchInput.value.trim().toLowerCase();

        for (var i = 0; i < products.length; i++) {
            var product = products[i];
            var productName = product.textContent.toLowerCase();

            // Check if the product name contains the search query
            if (productName.includes(searchQuery)) {
                product.style.display = 'block';
            } else {
                product.style.display = 'none';
            }
        }
    });
});

</script>

<!-- Add this script at the end of your HTML file, just before the closing </body> tag -->
<script>
	// Get product elements and define products per page
	const products = document.querySelectorAll('.featureCol');
	const productsPerPage = 6;
  
	// Calculate the total number of pages
	const totalPages = Math.ceil(products.length / productsPerPage);
  
	// Initialize the current page
	let currentPage = 1;
  
	// Function to show products for the current page
	function showProducts() {
	  const startIndex = (currentPage - 1) * productsPerPage;
	  const endIndex = startIndex + productsPerPage;
  
	  products.forEach((product, index) => {
		if (index >= startIndex && index < endIndex) {
		  product.style.display = 'block';
		} else {
		  product.style.display = 'none';
		}
	  });
	}
  
	// Function to change the current page
	function changePage(direction) {
	  if (direction === 'next' && currentPage < totalPages) {
		currentPage += 1;
	  } else if (direction === 'prev' && currentPage > 1) {
		currentPage -= 1;
	  }
  
	  showProducts();
	}
  
	// Add event listeners to the arrow buttons to change the page
	document.getElementById('nextButton').addEventListener('click', function() {
	  changePage('next');
	});
  
	document.getElementById('prevButton').addEventListener('click', function() {
	  changePage('prev');
	});
  
	// Initial setup
	showProducts();
  </script>
  
  
  
  


<%- include('../layouts/userfoot.ejs') -%>

<!-- include jQuery library -->
<script src="js/jquery-3.4.1.min.js"></script>
<!-- include bootstrap popper JavaScript -->
<script src="js/popper.min.js"></script>
<!-- include bootstrap JavaScript -->
<script src="js/bootstrap.min.js"></script>
<!-- include custom JavaScript -->
<script src="js/jqueryCustome.js"></script>

<%- include('../layouts/footer.ejs') -%>